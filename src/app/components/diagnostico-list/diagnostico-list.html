<div class="container">
    <h2>Listado de Diagn贸sticos</h2>

    <div style="margin-bottom: 15px;">
        <button routerLink="/diagnosticos/nuevo"
            style="padding: 10px; background-color: #007bff; color: white; border: none; cursor: pointer;">
            + Nuevo Diagn贸stico
        </button>
    </div>

    <div *ngIf="cargando" class="loading">Cargando datos...</div>
    <div *ngIf="error" style="color: red; margin-bottom: 10px;">{{ error }}</div>

    <table *ngIf="!cargando && diagnosticos.length > 0" border="1" style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background-color: #f2f2f2;">
                <th style="padding: 8px;">ID</th>
                <th style="padding: 8px;">Valoraci贸n</th>
                <th style="padding: 8px;">Enfermedad</th>
                <th style="padding: 8px;">ID Cita</th>
                <th style="padding: 8px;">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let diag of diagnosticos">
                <td style="padding: 8px; text-align: center;">{{ diag.id }}</td>
                <td style="padding: 8px;">{{ diag.valoracionEspecialista }}</td>
                <td style="padding: 8px;">{{ diag.enfermedad }}</td>
                <td style="padding: 8px; text-align: center;">{{ diag.citaId }}</td>
                <td style="padding: 8px; text-align: center;">
                    <button [routerLink]="['/diagnosticos/editar', diag.id]"
                        style="margin-right: 5px; cursor: pointer;">
                        Editar
                    </button>

                    <button (click)="eliminar(diag.id)"
                        style="background-color: #dc3545; color: white; border: none; cursor: pointer;">
                        Eliminar
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="!cargando && !error && diagnosticos.length === 0">
        <p>No hay diagn贸sticos registrados en el sistema.</p>
    </div>
</div>